---
layout: "@layouts/ArticleLayout.astro"
author: Kevin Kelche
title: Golang Benchmarking
description: In Go, Benchmarking is a way to measure the performance of your code. In this article, we will learn how to write benchmarks and how to interpret the results.
date: 20 January 2023
image: https://images.unsplash.com/photo-1671738423108-32c0ed3684bd?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1032&q=80
imageDescription:
imageSource: Unsplash
imageUrl: https://unsplash.com/photos/EmJy3_FV1ZI
keywords:
  -
tags:
  - go
  - featured

draft: true
---

import SectionLink from "@components/SectionLink.jsx";
import Nugget from "@components/Nugget.astro";
import Link from "@components/Link.jsx";

# Golang Benchmarking <SectionLink id="golang-benchmarking" />

In Go, Benchmarking is a way to measure the performance of your code. Benchmarking is done by writing a function that runs a piece of code multiple times and measures the time it takes to run.

## Writing a Benchmark <SectionLink id="writing-a-benchmark" />

To write a benchmark, you need to write a function that starts with `Benchmark` and takes a pointer to a `testing.B` as its only argument. The `testing.B` type has a `N` field that contains the number of times the benchmark should be run. The `testing.B` type also has a `ResetTimer` method that resets the timer to zero. The `testing.B` type also has a `StopTimer` method that stops the timer. The `testing.B` type also has a `StartTime` method that starts the timer.

```go title="main.go"
func BenchmarkHello(b *testing.B) {
  b.ResetTimer()
  for i := 0; i < b.N; i++ {
    b.StopTimer()
    // do something
    b.StartTimer()
  }
}
```

To run the benchmark, you need to run the `go test` command with the `-bench` flag. The `-bench` flag takes a regular expression that matches the name of the benchmark function. The `-bench` flag also takes a `-benchmem` flag that tells the `go test` command to print the memory allocation statistics.

```bash title="Terminal"
go test -bench=. -benchmem
```
