---
layout: "@layouts/ArticleLayout.astro"
author: Kevin Kelche
title: How To Pretty-Print JSON in Go
description: Learn how to pretty print JSON data in Go using the "encoding/json" & "fmt" packages. Improve readability and debugging with easy-to-follow examples.
date: 06 February 2023
image: /images/golang-pretty-print.avif
imageDescription:
keywords:
  -
tags:
  - golang
---

import Nugget from "@components/Nugget.astro";

## Introduction

Pretty-printing JSON data is crucial for making it human-readable and easier to understand. This helps with debugging and enables one to easily locate specific pieces of information within a JSON object. By default, Go will print JSON data on a single line of text, which can be difficult to read if the object is deeply nested. In this article, we will examine how to pretty-print JSON data in Go."

## Pretty-Print JSON in Go

## 1. `MarshalIndent`

**To pretty-print JSON data in Go, `MarshalIndent` can be used. The function is provided by the `encoding/json` package and takes three arguments: the data to be marshaled, a prefix string, and the indentation string. The prefix string is used to indent the first line of the output, and the indentation string is used to indent subsequent lines.**

The following example shows how to pretty-print JSON data in Go:

```go title="main.go"
package main

import (
  "encoding/json"
  "fmt"
)


func main() {

  data := map[string]interface{}{
    "name": "Kevin",
    "age":  30,
    "address": map[string]interface{}{
      "street": "123 Main St",
      "city":   "New York",
      "state":  "NY",
    },
  }

  json, err := json.MarshalIndent(data, "", "  ")
  if err != nil {
    panic(err)
  }


  fmt.Println(string(json))
}
```

The output of the above program is:

```json
{
  "name": "Kevin",
  "age": 30,
  "address": {
    "street": "123 Main St",
    "city": "New York",
    "state": "NY"
  }
}
```

### 2. `json.Indent`

`json.Indent` is another way to pretty-print JSON data in Go. The function takes three arguments: a `bytes.Buffer` to write the output to, the data to be indented, a prefix string, and the indentation string. The prefix string is used to indent the first line of the output, and the indentation string is used to indent subsequent lines.

The difference between the two methods is that `json.Indent` does not return the indented JSON data, but instead writes it to the `bytes.Buffer` passed as the first argument. This means that the output of `json.Indent` must be printed separately.

```go title="main.go"
package main

import (
  "bytes"
  "encoding/json"
  "fmt"
)

func main() {
  data := map[string]interface{}{
    "name": "Kevin",
    "age":  30,
    "address": map[string]interface{}{
      "street": "123 Main St",
      "city":   "New York",
      "state":  "NY",
    },
  }

  jsonData, err := json.Marshal(data)
  if err != nil {
    panic(err)
  }

  var buf bytes.Buffer

  err = json.Indent(&buf, jsonData, "", "  ")
  if err != nil {
    panic(err)
  }


  fmt.Println(buf.String())
}
```

The output of the above program is:

```json
{
  "name": "Kevin",
  "age": 30,
  "address": {
    "street": "123 Main St",
    "city": "New York",
    "state": "NY"
  }
}
```

### 3. `NewEncoder.SetIndent`

`json.NewEncoder` provides a `SetIndent` method that can be used to pretty-print JSON data in Go. The method takes two arguments: a prefix string and the indentation string.

```go title="main.go"
package main

import (
  "encoding/json"
  "os"
)

func main() {
  data := map[string]interface{}{
    "name": "Kevin",
    "age":  30,
    "address": map[string]interface{}{
      "street": "123 Main St",
      "city":   "New York",
      "state":  "NY",
    },
  }
  encoder := json.NewEncoder(os.Stdout)

  encoder.SetIndent("", "  ")

  if err := encoder.Encode(data); err != nil {
    panic(err)
  }
}
```

<Nugget>
  <strong class="text-lg font-bold dark:text-white text-black">PS</strong>
  <p>
    If you are only printing json data to the console, you can pipe the output
    of your program to the <code>jq</code> command to pretty-print the JSON
    data. For example, <code>go run main.go | jq</code>.
  </p>
</Nugget>

## Conclusion

In this article, we explored three ways to pretty-print JSON data in Go: `MarshalIndent`, `json.Indent`, and `NewEncoder.SetIndent`. The first two return indented data, while the last writes it to the buffer. It's essential to know how to manually pretty-print JSON data, even though libraries exist.
